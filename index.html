<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Panduan Teknis — PDF Viewer</title>
  <style>
    :root{--brand:#0b6aa0;--muted:#f3f7f9}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial}
    .hero{background:linear-gradient(180deg,var(--brand),#0a5f8f);color:white;padding:28px 18px;text-align:left}
    .hero h1{margin:0;font-size:28px;letter-spacing:0.4px}
    .hero p{margin:6px 0 0;color:rgba(255,255,255,0.9)}
    .container{max-width:1100px;margin:18px auto;padding:0 16px}
    .toolbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin:12px 0}
    .btn{background:white;color:var(--brand);padding:10px 12px;border-radius:8px;border:1px solid rgba(11,106,160,0.12);text-decoration:none;font-weight:600}
    .viewer-wrap{width:100%;height:calc(100vh - 260px);background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 6px 22px rgba(6,18,31,0.06)}
    iframe{width:100%;height:100%;border:0}
    .meta{color:#334;opacity:0.85;font-size:13px}
    select.select-file{padding:10px;border-radius:8px;border:1px solid #ddd;background:white}
    @media(max-width:600px){.hero h1{font-size:20px}.viewer-wrap{height:calc(100vh - 300px)}}
  </style>
</head>
<body>
  <div class="hero">
    <div class="container">
      <h1>Panduan Teknis — Preview Dokumen</h1>
      <p>Viewer interaktif berbasis PDF.js. Pilih dokumen dari daftar untuk melihatnya.</p>
    </div>
  </div>

  <div class="container">
    <div class="toolbar">
      <label style="align-self:center;color:#fff;background:transparent;padding-right:6px">Pilih dokumen:</label>
      <select id="fileSelect" class="select-file"></select>

      <a id="openFull" class="btn" target="_blank" rel="noopener">Open full viewer</a>
      <a id="downloadBtn" class="btn" target="_blank" rel="noopener">Download PDF</a>
      <a id="printBtn" class="btn" href="#" onclick="printViewer();return false;">Print</a>
      <div style="flex:1"></div>
      <div class="meta">Tip: gunakan Open full viewer untuk fitur pencarian dan navigasi lengkap.</div>
    </div>

    <div class="viewer-wrap">
      <iframe id="pdfIframe" src="about:blank" title="PDF.js viewer"></iframe>
    </div>
  </div>

<script>
// ==================== CONFIG ====================
const CONFIG = {
  USERNAME: 'tahtahadityasip-bit',
  REPO: 'pdf-viewer-tubel',
  // daftar file yang ada di folder /files — sesuaikan bila perlu
  FILES: [
    'NOTA DINAS SEKRETARIAT JENDRAL NOMOR B_159 _SJ-IND.2_KP_I_2023.pdf',
    'PERMENPERIN NOMOR 22_M-IND_PER_5_2006.pdf',
    'PERMENPERIN NOMOR 74_M-IND_PER_8_2011.pdf',
    'SE KEMENPERIN NOMOR 768_SJ-IND_11_2016.pdf'
    'SE MENPAN RB No 28 Tahun 2021.pdf'
  ]
};
// =================================================

const base = `https://${CONFIG.USERNAME}.github.io/${CONFIG.REPO}`;
const fileSelect = document.getElementById('fileSelect');
const iframe = document.getElementById('pdfIframe');
const openFull = document.getElementById('openFull');
const downloadBtn = document.getElementById('downloadBtn');

// helper: build full URLs
function pdfUrl(filename){
  return `${base}/files/${encodeURIComponent(filename)}`;
}
function viewerUrlFor(filename){
  return `${base}/web/viewer.html?file=${encodeURIComponent(pdfUrl(filename))}`;
}

// populate dropdown
CONFIG.FILES.forEach((f, idx)=>{
  const opt = document.createElement('option');
  opt.value = f;
  opt.textContent = f;
  fileSelect.appendChild(opt);
});

// default to first file
function loadSelected(){
  const fn = fileSelect.value;
  const v = viewerUrlFor(fn);
  iframe.src = v;
  openFull.href = v;
  downloadBtn.href = pdfUrl(fn);
}

fileSelect.addEventListener('change', loadSelected);
// initial load
loadSelected();

function printViewer(){
  try{
    iframe.contentWindow.focus();
    iframe.contentWindow.print();
  }catch(e){
    alert('Tidak bisa mencetak dari sini. Buka "Open full viewer" lalu cetak dari sana.');
  }
}
</script>
</body>
</html>
